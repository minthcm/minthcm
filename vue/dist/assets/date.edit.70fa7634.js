import{l as y,aX as k,z as f,e as p,a7 as s,H as x,n as D,q as S,j as d,k as v,A as b,C as i,x as M,N as g,ab as L,_ as P}from"./index.10d9344d.js";import{V as Q}from"./VDatePicker.08861d44.js";import"./VSpacer.54d702f0.js";const C={class:"mint-date-field-detail"},F=y({__name:"date.edit",props:{defs:{},label:{},modelValue:{},data:{}},emits:["update:modelValue"],setup(_,{emit:V}){const r=k(),u=_,n=V,l=f(!1),o=f(u.modelValue),m=p({get(){var t;const e=s.fromSQL(o.value);return e.isValid&&e.toFormat(((t=r.user)==null?void 0:t.date_format)||"dd.MM.yyyy")||""},async set(e){var a;l.value=!1,e!=null&&e.trim()||(o.value="");const t=s.fromFormat(e,((a=r.user)==null?void 0:a.date_format)||"dd.MM.yyyy");t.isValid&&(o.value=t.toSQLDate())}}),c=p({get(){var e;return(e=o.value)!=null&&e.trim()?new Date(o.value):new Date},set(e){const t=s.fromJSDate(e);t.isValid&&(o.value=t.toSQLDate())}});return x(o,e=>{l.value=!1,s.fromSQL(e==null?void 0:e.toString()).isValid?n("update:modelValue",o.value):n("update:modelValue","")}),(e,t)=>(D(),S("div",C,[d(b,v(u,{label:e.label,variant:"outlined",density:"compact","hide-details":"",modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=a=>m.value=a)}),null,16,["label","modelValue"]),d(L,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value=a),offset:"16","close-on-content-click":!1},{activator:i(({props:a,isActive:N})=>[d(M,v({class:"mint-date-field-btn"},a),{default:i(()=>[g("mdi-calendar")]),_:2},1040)]),default:i(()=>[d(Q,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),"hide-actions":""},{header:i(()=>[]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]))}});const B=P(F,[["__scopeId","data-v-08ee8a14"]]);export{B as default};
