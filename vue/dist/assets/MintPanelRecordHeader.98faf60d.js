import{l as N,aE as $,M as P,aF as T,aG as R,Z as H,e as M,n as s,q as l,r,j as c,P as f,t as x,s as a,C,k as I,ab as G,aa as O,F,v as V,w as U,y as A,_ as z}from"./index.94e4d627.js";import{_ as D}from"./Field.vue_vue_type_style_index_0_lang.fcdd984a.js";const j={class:"header-panel"},q={class:"flex-container"},K={class:"name-container"},W={class:"module-name"},Z={class:"bean-name"},J={key:0,class:"fields-container"},Q=N({__name:"MintPanelRecordHeader",props:{data:{}},setup(E){const h=E,e=$(),u=P(),p=T(),m=R(),_=H(),w=M(()=>{var i;const o=[{title:_.label("LNK_VIEW_CHANGE_LOG"),icon:"mdi-history",onClick:()=>window.open(`legacy/index.php?module=Audit&action=Popup&record=${e.bean.id}&module_name=${e.bean.module_name}`,`Audit_popup_window_record_${e.bean.id}_module_name_${e.bean.module_name}`,"width=800,height=800,resizable=1,scrollbars=1")}];return((i=e.bean.acl_access)==null?void 0:i.delete)===!0&&o.push({title:_.label("LBL_DELETE_BUTTON_LABEL"),icon:"mdi-trash-can-outline",onClick:async()=>{var d;await e.deleteBean(),u.push({name:"list",params:{module:(d=m.currentModule)==null?void 0:d.name}})}}),o}),S=()=>{var o;if(!u.options.history.state.back)return u.push({name:"list",params:{module:(o=m.currentModule)==null?void 0:o.name}});u.back()},y=M(()=>p.isFavorite(e.bean.module_name,e.bean.id));return(o,i)=>{var d,k,g,L;return s(),l("div",j,[r("div",q,[c(f,{icon:"mdi-arrow-left",onClick:S}),r("div",K,[r("div",W,x((k=(d=a(m))==null?void 0:d.currentModule)==null?void 0:k.label),1),r("div",Z,[r("div",null,x(a(e).bean.syncAttributes.name),1),c(f,{icon:y.value?"mdi-heart-circle":"mdi-heart-outline",variant:"text",size:"small",onClick:i[0]||(i[0]=t=>y.value?a(p).removeFromFavorites(a(e).bean.module_name,a(e).bean.id):a(p).addToFavorites(a(e).bean.module_name,a(e).bean.id,a(e).bean.syncAttributes.name))},null,8,["icon"])])]),c(O,{offset:"16"},{activator:C(({props:t,isActive:b})=>[c(f,I({class:"ml-auto"},t,{active:b,"append-icon":"mdi-menu-down",text:a(_).label("LBL_ESLIST_ACTIONS")}),null,16,["active","text"])]),default:C(()=>[c(G,{items:w.value||[]},null,8,["items"])]),_:1})]),(L=(g=h.data)==null?void 0:g.fields)!=null&&L.length?(s(),l("div",J,[(s(!0),l(F,null,V(h.data.fields,(t,b)=>(s(),l("div",{class:"row",key:b},[(s(!0),l(F,null,V(a(e).columns,n=>{var B;return s(),l("div",{key:n-1},[t[n-1]?(s(),U(D,{key:0,view:"detail",defs:t[n-1],label:a(_).label(t[n-1].label,(B=a(m).currentModule)==null?void 0:B.name),data:{bean:a(e).bean.attributes},modelValue:a(e).bean.syncAttributes[t[n-1].name],"onUpdate:modelValue":[v=>a(e).bean.syncAttributes[t[n-1].name]=v,v=>a(e).updateField(t[n-1].name,v)]},null,8,["defs","label","data","modelValue","onUpdate:modelValue"])):A("",!0)])}),128))]))),128))])):A("",!0)])}}});const ee=z(Q,[["__scopeId","data-v-ba673a2c"]]);export{ee as default};
