import{l as _,z as p,e as f,ad as o,H as k,n as D,q as S,j as s,k as v,A as b,C as i,x as M,N as g,aa as x,bi as c,_ as C}from"./index.af03a0f5.js";import{V as L}from"./VDatePicker.f965717d.js";import"./VSpacer.661a7ef3.js";const Q=_({__name:"date.edit",props:{defs:{},label:{},modelValue:{},data:{}},emits:["update:modelValue"],setup(V,{emit:y}){const u=V,n=y,d=p(!1),l=p(u.modelValue),r=f({get(){const e=o.fromSQL(l.value);return e.isValid&&e.toFormat("dd.MM.yyyy")||""},async set(e){d.value=!1,e!=null&&e.trim()||(l.value="");const t=o.fromFormat(e,"dd.MM.yyyy");t.isValid&&(l.value=t.toSQLDate())}}),m=f({get(){var e;return(e=l.value)!=null&&e.trim()?new Date(l.value):new Date},set(e){const t=o.fromJSDate(e);t.isValid&&(l.value=t.toSQLDate())}});return k(l,e=>{d.value=!1,o.fromSQL(e==null?void 0:e.toString()).isValid?n("update:modelValue",l.value):n("update:modelValue","")}),(e,t)=>(D(),S("div",{class:"mint-date-field-detail",onKeyup:[t[3]||(t[3]=c(a=>e.$emit("inlineEditSave"),["enter"])),t[4]||(t[4]=c(a=>e.$emit("inlineEditCancel"),["esc"]))]},[s(b,v(u,{label:e.label,variant:"outlined",density:"compact","hide-details":"",modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a)}),null,16,["label","modelValue"]),s(x,{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=a=>d.value=a),offset:"16","close-on-content-click":!1},{activator:i(({props:a,isActive:$})=>[s(M,v({class:"mint-date-field-btn"},a),{default:i(()=>[g("mdi-calendar")]),_:2},1040)]),default:i(()=>[s(L,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=a=>m.value=a),"hide-actions":""},{header:i(()=>[]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],32))}});const P=C(Q,[["__scopeId","data-v-43024ad5"]]);export{P as default};
